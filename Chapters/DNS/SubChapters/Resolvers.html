<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DNS</title>
  <!-- Make sure the path below is correct relative to your HTML file -->
  <link rel="stylesheet" href="../../../style.css" />
</head>
<body>
  <header>
    <h1>Coding Over College</h1>
    <!-- Top-level navigation -->
    <nav class="top-nav">
      <ul>
        <li><a href="../../../index.html">Home</a></li>
        <li><a href="../../DataStructures/DataStructures.html">Data Structures</a></li>
        <li><a href="../../NamedAlgorithms/NamedAlgorithms.html">Named Algorithms</a></li>
        <li><a href="../../PythonLibraries/PythonLibraries.html">Python Libraries</a></li>
        <li><a href="../../DNS/DNS.html">DNS</a></li>
        <li><a href="../../References/References.html">References</a></li>
        <li><a href="../../Keywords/Keywords.html">Google Keywords Library</a></li>
      </ul>
    </nav>
  </header>

  <div class="container">
    <!-- Sidebar specific to DNS Topics -->
    <aside class="chapter-sidebar">
      <h3>DNS Topics</h3>
      <ul>
        <li><a href="../SubChapters/Resolvers.html">Resolvers</a></li>
        <li><a href="../SubChapters/Caching.html">Caching</a></li>
        <li><a href="../SubChapters/ZoneFiles.html">Zone Files</a></li>
      </ul>
    </aside>

    <main class="mainbody">
      
      <div class="subchapterBody">
      <section id="introduction">
        <h2 class="section-title">DNS Resolvers</h2>
        <p>
          DNS resolvers are servers on the internet that translate domain names into IP addresses. Their purpose is to let people use the internet using readable names instead of long strings of numbers. There are two main types:
          <strong>Recursive Resolvers</strong> and <strong>Iterative Resolvers</strong>.
        </p>
      </section>

      <section id="recursive-resolvers">
        
        <h2 class="section-title">Recursive Resolvers</h2>

        <h3>What is a Recursive Resolver?</h3>
        <p>
          A recursive resolver (also called a DNS resolver) is a server that receives DNS queries from clients (such as web browsers) and recursively queries other DNS servers until it finds the correct answer.
        </p>
      
      
        <h3>Key Characteristics</h3>
        <ul>
          <li>Performs all the work to resolve a domain name.</li>
          <li>Caches responses to improve performance.</li>
          <li>Communicates with multiple types of DNS servers (root, TLD, authoritative).</li>
          <li>Can be provided by ISPs, cloud services (Google, Cloudflare), or private networks.</li>
        </ul>

        <h3>How Does It Work?</h3>
        <ol>
          <li>
            <strong>Check Local Cache:</strong>
            <ul>
              <li>The resolver first checks if it already knows the answer (from a previous lookup or local host files).</li>
              <li>If found in cache, it returns the result immediately; otherwise, it proceeds to ask external servers.</li>
            </ul>
          </li>
          <li>
            <strong>Query the Root DNS Server:</strong>
            <ul>
              <li>If the answer is not cached, the resolver contacts a root DNS server, which does not know the IP for the domain but directs it to a Top-Level Domain (TLD) server (e.g., for .com).</li>
            </ul>
          </li>
          <li>
            <strong>Query the TLD DNS Server:</strong>
            <ul>
              <li>The TLD server doesn’t store the full record but tells the resolver which authoritative DNS server holds the information.</li>
            </ul>
          </li>
          <li>
            <strong>Query the Authoritative DNS Server:</strong>
            <ul>
              <li>The authoritative server, which belongs to the website owner or hosting provider, provides the exact IP address.</li>
            </ul>
          </li>
          <li>
            <strong>Return the Answer:</strong>
            <ul>
              <li>The resolver sends the IP address back to the requesting client.</li>
            </ul>
          </li>
          <li>
            <strong>Cache the Result:</strong>
            <ul>
              <li>The result is stored for a certain Time-To-Live (TTL) to answer future queries quickly.</li>
            </ul>
          </li>
        </ol>

        <h3>Example Process</h3>
        <p>For example, when a user enters <code>example.com</code> in a browser:</p>
        <ul>
          <li>The resolver (e.g., Google’s 8.8.8.8) is contacted.</li>
          <li>If no cached record exists, it queries a root server, then a .com TLD server, and finally the authoritative server which returns an IP (e.g., <code>93.184.216.34</code>).</li>
          <li>The IP is sent back to the browser, allowing the website to load.</li>
        </ul>

        <h3>Where Do Recursive Resolvers Exist?</h3>
        <ul>
          <li>Internet Service Providers (ISPs) such as Comcast, AT&T, or Vodafone.</li>
          <li>Public DNS Providers:
            <ul>
              <li>Google Public DNS (8.8.8.8, 8.8.4.4)</li>
              <li>Cloudflare DNS (1.1.1.1)</li>
              <li>OpenDNS (208.67.222.222)</li>
            </ul>
          </li>
          <li>Private Networks (organizations running their own DNS infrastructure).</li>
          <li>Self-hosted resolvers using software like Unbound, BIND, or Pi-hole.</li>
        </ul>

        <h3>Security Risks &amp; Protections</h3>
        <ul>
          <li>
            <strong>DNS Cache Poisoning:</strong> Attackers may inject false DNS records into a resolver’s cache. 
            <br /><em>Protection:</em> Use DNSSEC (DNS Security Extensions) to validate responses.
          </li>
          <li>
            <strong>DDoS Attacks (Amplification &amp; Reflection):</strong> Spoofed DNS queries can cause a resolver to flood a target with traffic.
            <br /><em>Protection:</em> Implement rate limiting and proper query filtering.
          </li>
          <li>
            <strong>Data Privacy Concerns:</strong> Logging by ISPs can compromise privacy.
            <br /><em>Protection:</em> Use privacy-focused resolvers (e.g., Cloudflare 1.1.1.1, Quad9) or encrypted DNS protocols such as DNS over HTTPS (DoH) or DNS over TLS (DoT).
          </li>
        </ul>

        <h3>Performance Optimizations</h3>
        <ul>
          <li>Caching recent lookups to avoid redundant queries.</li>
          <li>Prefetching to resolve queries in advance.</li>
          <li>Load Balancing to distribute traffic across multiple servers.</li>
          <li>Anycast Routing to direct queries to the nearest server, reducing latency.</li>
          <li>Negative Caching to store information about failed lookups.</li>
        </ul>

        <h3>Real-World Example: Google Public DNS (8.8.8.8)</h3>
        <ul>
          <li>Fast performance with a global network of servers.</li>
          <li>Enhanced security via DNSSEC validation.</li>
          <li>Privacy improvements with minimal logging and support for encrypted DNS (DoH, DoT).</li>
        </ul>
      </section>

      <!-- Iterative Resolvers Section -->
      <section id="iterative-resolvers">
        <h2 class="section-title">Iterative Resolvers</h2>

        <h3>How Does an Iterative Resolver Work?</h3>
        <ol>
          <li>
            <strong>Client Query:</strong>
            <ul>
              <li>The client (e.g., a browser) sends a DNS query to the iterative resolver.</li>
            </ul>
          </li>
          <li>
            <strong>Query the Root DNS Server:</strong>
            <ul>
              <li>The client directly queries a root DNS server, which responds with a referral to a Top-Level Domain (TLD) server.</li>
            </ul>
          </li>
          <li>
            <strong>Query the TLD DNS Server:</strong>
            <ul>
              <li>The client then queries the referred TLD server, which provides a referral to the authoritative server.</li>
            </ul>
          </li>
          <li>
            <strong>Query the Authoritative DNS Server:</strong>
            <ul>
              <li>The client queries the authoritative server, which returns the final IP address.</li>
            </ul>
          </li>
          <li>
            <strong>Establish Connection:</strong>
            <ul>
              <li>The client uses the obtained IP address to connect directly to the website.</li>
            </ul>
          </li>
        </ol>

        <h3>Example of Iterative Query Resolution</h3>
        <ul>
          <li>User enters <code>example.com</code> in a browser.</li>
          <li>The client’s local resolver contacts a root server, receiving a referral to a TLD server.</li>
          <li>The client then queries the TLD server, and finally the authoritative server, which returns <code>93.184.216.34</code>.</li>
          <li>The browser connects to the website using the provided IP address.</li>
        </ul>

        <h3>Security Risks &amp; Protections</h3>
        <ul>
          <li>
            <strong>DNS Spoofing &amp; Cache Poisoning:</strong> Attackers may inject false records.
            <br /><em>Protection:</em> Use DNSSEC to validate responses.
          </li>
          <li>
            <strong>DDoS Attacks on Root &amp; TLD Servers:</strong> High query volumes can overwhelm servers.
            <br /><em>Protection:</em> Rate limiting and Anycast routing help mitigate these attacks.
          </li>
          <li>
            <strong>Interception &amp; Surveillance:</strong> Unencrypted DNS queries can be intercepted.
            <br /><em>Protection:</em> Encrypted DNS protocols like DoH and DoT offer improved security.
          </li>
        </ul>

        <h3>Performance Optimizations</h3>
        <ul>
          <li>Anycast Routing to reduce latency by directing queries to the nearest available server.</li>
          <li>Load Balancing to evenly distribute query traffic.</li>
          <li>Distributed Root Servers that lower response times globally.</li>
          <li>Efficient query processing at TLD and root servers.</li>
        </ul>

        <h3>Real-World Example: Root DNS Servers</h3>
        <p>
          When a recursive resolver queries a root DNS server for <code>example.com</code>, the root server responds with a referral rather than a final IP address. For example:
        </p>
        <pre>
dig example.com @198.41.0.4

Response:
example.com. 172800 IN NS a.iana-servers.net.
        </pre>
      </section>

      <!-- Comparison Table -->
      <section id="comparison">
        <h3 class="section-title">Comparison: Recursive vs. Iterative Resolvers</h2>
        <table>
          <thead>
            <tr>
              <th>Feature</th>
              <th>Recursive Resolver</th>
              <th>Iterative Resolver</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Handles Full Query Process?</td>
              <td>Yes, it contacts multiple servers</td>
              <td>No, it directs the client to contact servers</td>
            </tr>
            <tr>
              <td>Used by Clients?</td>
              <td>Yes (Browsers, OS)</td>
              <td>No</td>
            </tr>
            <tr>
              <td>Caches DNS Responses?</td>
              <td>Yes</td>
              <td>No</td>
            </tr>
          </tbody>
        </table>
      </section>

      <!-- TL;DR Summary -->
      <section id="summary">
        <h3 class="section-title">TL;DR</h2>
        <p>
          The main difference between recursive and iterative resolvers is that recursive resolvers handle the entire DNS query process on behalf of the client, while iterative resolvers provide referrals at each step, leaving the client to make the subsequent queries.
        </p>
      
      </section>
    </div>
    </main>
  </div>
</body>
</html>
